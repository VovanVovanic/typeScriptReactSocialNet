(this["webpackJsonpmy-social-net-type"]=this["webpackJsonpmy-social-net-type"]||[]).push([[0],{158:function(e,t,a){"use strict";var n=a(303),r=a.n(n),c=a(0),o=a.n(c),l=a(304),i=a.n(l);t.a=function(){return o.a.createElement("div",{className:r.a.Preloader},o.a.createElement("img",{src:i.a,alt:"gif"}))}},211:function(e,t,a){e.exports={textArreaWrapper:"formControls_textArreaWrapper__1odmS",error:"formControls_error__oj7a-"}},219:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(123),r=a(276),c=a(277),o=a(282),l=a(280),i=a(0),u=a.n(i),s=a(43),m=a(30),f=function(e){return{isAuth:e.auth.isLogged}};function d(e){var t=function(t){Object(o.a)(i,t);var a=Object(l.a)(i);function i(){return Object(r.a)(this,i),a.apply(this,arguments)}return Object(c.a)(i,[{key:"render",value:function(){var t=this.props,a=t.isAuth,r=Object(n.a)(t,["isAuth"]);return a?u.a.createElement(e,r):u.a.createElement(m.a,{to:"./login"})}}]),i}(i.Component);return Object(s.b)(f)(t)}},253:function(e,t,a){e.exports=a.p+"static/media/ava.e36197b5.gif"},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"n",(function(){return l})),a.d(t,"j",(function(){return i})),a.d(t,"m",(function(){return u})),a.d(t,"k",(function(){return s})),a.d(t,"p",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"i",(function(){return d})),a.d(t,"o",(function(){return p})),a.d(t,"h",(function(){return b})),a.d(t,"d",(function(){return E})),a.d(t,"g",(function(){return g})),a.d(t,"f",(function(){return h}));var n="ADD_MESSAGE",r="ADD_POST",c="FOLLOW",o="NOFOLLOW",l="SET__USERS",i="SET__PAGE",u="SET__TOTAL",s="SET__PAGINATION",m="TOGGLE__PRELOADER ",f="SET__PROFILE",d="SET_USER_DATA",p="TOGGLE_FOLLOW_STATUS",b="SET_STATUS",E="INITIALIZE_DATE",g="SET_PHOTOS",h="SET_CAPTCHA"},286:function(e,t,a){e.exports={Posts:"MyPosts_Posts__uJhQY"}},287:function(e,t,a){e.exports={item:"Post_item__2wdbA"}},302:function(e,t,a){e.exports={formError:"form_formError__P2Q79"}},303:function(e,t,a){e.exports={Preloader:"preloader_Preloader__3coKa"}},304:function(e,t,a){e.exports=a.p+"static/media/151.027520c2.gif"},305:function(e,t,a){e.exports={layout:"app_layout__1e_Ix"}},334:function(e,t,a){e.exports=a(569)},339:function(e,t,a){},403:function(e,t,a){},42:function(e,t,a){e.exports={profileWrap:"profile_profileWrap__2puNB",socialItem:"profile_socialItem__1GtMD",link:"profile_link__22jE6",btn:"profile_btn__Rb8lD",infoItem:"profile_infoItem__1pf6F",infoName:"profile_infoName__1Pd9D",infoDescr:"profile_infoDescr__2NxWe",status:"profile_status__3YY9w",statusInfo:"profile_statusInfo__3Tdf5",title:"profile_title__2zekw",submitBtn:"profile_submitBtn__3-XxP"}},569:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),o=a.n(c),l=(a(339),a(222),a(16)),i=a(26),u={initialized:!1,id:null,email:null,login:null,imageSrc:null,isFetching:!0,isLogged:!1,captcha:null},s=a(36),m=a(99),f={postList:[{post:"My message",like:1},{post:"My second message",like:6}],profile:null,status:""},d={users:[{label:"Anna"},{label:"Natalya"},{label:"Vladimir"},{label:"Mike"},{label:"John"},{label:"Piter"},{label:"Alex"},{label:"Frank"}],messages:[{label:"I am fine",id:1},{label:"Hello",id:2},{label:"What is you name?",id:3},{label:"Look at this!",id:4},{label:"Yo bro!",id:5}]},p={friendList:[{label:"Andrew"},{label:"Sasha"},{label:"Sveta"}]},b={users:[],pageCount:5,initialPage:1,total:0,initialPagination:0,isFetching:!1,isFetchingFollow:!1,followInProgress:[]},E=a(283),g=a(281),h=Object(s.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.b:var a={post:t.value,like:3};return Object(l.a)(Object(l.a)({},e),{},{postList:[].concat(Object(m.a)(e.postList),[a])});case i.l:return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case i.h:return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case i.g:return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{photos:t.photos})});default:return e}},dialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a:var a={label:t.value,id:34};return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(m.a)(e.messages),[a])});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.c:var a=Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?(e.followed=!0,e):e}))});return a;case i.e:var n=Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?(e.followed=!1,e):e}))});return n;case i.j:return Object(l.a)(Object(l.a)({},e),{},{initialPage:t.page});case i.m:return Object(l.a)(Object(l.a)({},e),{},{total:t.total});case i.k:return Object(l.a)(Object(l.a)({},e),{},{initialPagination:t.pagination});case i.n:return Object(l.a)(Object(l.a)({},e),{},{users:Object(m.a)(t.users)});case i.p:return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case i.o:return Object(l.a)(Object(l.a)({},e),{},{followInProgress:t.isFetchingFollow?[].concat(Object(m.a)(e.followInProgress),[t.userId]):e.followInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.i:return Object(l.a)(Object(l.a)({},e),{},{isLogged:t.isLogged,isFetching:!1},t.data);case i.d:return Object(l.a)(Object(l.a)({},e),{},{initialized:!0,isFetching:!1});case i.f:return Object(l.a)(Object(l.a)({},e),{},{captcha:t.captcha});default:return e}},form:g.a}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose,O=Object(s.e)(h,v(Object(s.a)(E.a))),j=a(43),y=a(571),w=(a(403),a(30)),_=a(68),k=a(286),S=a.n(k),x=a(278),N=a(279),P=a(95),A=a(63),L=Object(P.a)(100),T=Object(N.a)({form:"MyPostForm"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(x.a,{component:A.b,name:"PostFormText",placeholder:"Type your message",validate:[P.b,L]}),r.a.createElement("button",null,"Add post"))})),I=a(287),C=a.n(I),F=function(e){var t=e.message,a=e.like;return r.a.createElement("li",{className:C.a.item},r.a.createElement("img",{src:"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg"}),t,r.a.createElement("div",null,r.a.createElement("span",null,"like ",a)))},D=function(e){var t=e.list,a=e.onPostAddedAction,n=t.map((function(e,t){var a=e.post,n=e.like;return r.a.createElement(F,{key:t,message:a,like:n})}));return r.a.createElement("div",{className:S.a.Posts},r.a.createElement("h2",null,"My Posts"),r.a.createElement(T,{onSubmit:function(e){a(e.PostFormText)}}),r.a.createElement("ul",null,n))},M=a(214),U=a.n(M),z=a(288),J=a(84),R=a(69),W=function(e){return{type:i.l,profile:e}},G=function(e){return{type:i.h,status:e}},Y=function(e){return{type:i.g,photos:e}},B=function(e){return function(t){Object(R.f)(e).then((function(e){t(W(e))}))}},H=function(e){return{type:i.b,value:e}},K=Object(j.b)((function(e){return{list:e.profile.postList}}),{onPostAddedAction:H})(D),X=a(253),V=a.n(X),q=a(42),Q=a.n(q),Z=a(70),$=a(128),ee=a(145),te=a(575),ae=a(578),ne=function(e){var t=e.status,a=e.setNewStatus,c=Object(n.useState)(!1),o=Object(_.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(t),s=Object(_.a)(u,2),m=s[0],f=s[1],d=Object(n.useState)(!1),p=Object(_.a)(d,2),b=p[0],E=p[1];Object(n.useEffect)((function(){f(t)}),[t]),Object(n.useEffect)((function(){m.length>=100?E(!0):E(!1)}),[m]);var g=function(){i(!0),E(!1)},h=function(){i(!1),m.length<=100&&a(m),E(!1)};return r.a.createElement(Z.a,{span:24},!l&&r.a.createElement($.a,null,r.a.createElement(Z.a,{span:4,className:Q.a.status},"Status:"," "),r.a.createElement(Z.a,{span:18,onDoubleClick:g,className:Q.a.statusInfo},t||"-------"),r.a.createElement(ee.a,{type:"primary",onClick:g},"Edit status")),l&&r.a.createElement(Z.a,{span:24},r.a.createElement(te.a,{autoFocus:!0,onBlur:h,onChange:function(e){f(e.currentTarget.value)},value:m,onKeyDown:function(e){"Enter"===e.key&&h()}}),b&&r.a.createElement(ae.a,{message:"To long. Status must be max of 100 characters length",type:"error"})))},re=a(576),ce=a(574),oe=a(127),le=a.n(oe),ie=function(e){var t=e.profile,a=e.isOwner,n=e.onEditMode,c=["https://www.flaticon.com/svg/vstatic/svg/174/174848.svg?token=exp=1615116821~hmac=ce3a4d12d3b7e6424ba13eb78a48df5a","https://www.flaticon.com/svg/vstatic/svg/148/148798.svg?token=exp=1615117084~hmac=078035593addf26da48a95b4ba4d1348","https://www.flaticon.com/svg/vstatic/svg/145/145813.svg?token=exp=1615117142~hmac=2fd61506319c3e91f5bf51950b984352","https://www.flaticon.com/svg/vstatic/svg/145/145812.svg?token=exp=1615117179~hmac=0393be8199452249ae25d771542c25d3","https://www.flaticon.com/svg/vstatic/svg/1384/1384063.svg?token=exp=1615117262~hmac=675e64cb2fe1809c132fbe750f6df1c2","https://www.flaticon.com/svg/vstatic/svg/1384/1384060.svg?token=exp=1615117306~hmac=5f589a78aa59f050a0f4ef289c5bbecd","https://www.flaticon.com/svg/vstatic/svg/733/733553.svg?token=exp=1615117346~hmac=d1818f763998f6b8f3b9b76415ce6428","https://www.flaticon.com/svg/vstatic/svg/1946/1946433.svg?token=exp=1615117414~hmac=67f159f2a05f1e3c209a567fd48a8115"],o=t&&Object.keys(t.contacts),l=null===o||void 0===o?void 0:o.map((function(e,t){return{name:e,ava:c[t]}})).map((function(e){var a=null!==(null===t||void 0===t?void 0:t.contacts[e.name])?null===t||void 0===t?void 0:t.contacts[e.name]:"";return r.a.createElement(Z.a,{key:e.name,span:12,className:Q.a.socialItem},r.a.createElement("a",{href:a,target:"_blank",className:Q.a.link},r.a.createElement(ee.a,{type:"default",disabled:!a,className:Q.a.btn,icon:r.a.createElement(re.a,{src:e.ava})})))}));return r.a.createElement(ce.a,null,r.a.createElement($.a,null,r.a.createElement(Z.a,{span:20,style:{textAlign:"center"}},r.a.createElement(le.a,{level:2,style:{color:"wheat"}},"Profile info")),r.a.createElement(Z.a,{span:4,style:{justifyContent:"flex-end",display:"flex"}},a&&r.a.createElement(ee.a,{onClick:function(){return n()},type:"primary"},"Edit Profile"))),r.a.createElement($.a,null,r.a.createElement(Z.a,{span:12},r.a.createElement(le.a,{level:4,style:{color:"wheat"}},"General:"),r.a.createElement($.a,{className:Q.a.infoItem},r.a.createElement(Z.a,{className:Q.a.infoName,span:10}," Name:"),r.a.createElement(Z.a,{className:Q.a.infoDescr,span:8},null===t||void 0===t?void 0:t.fullName)),r.a.createElement($.a,{className:Q.a.infoItem},r.a.createElement(Z.a,{className:Q.a.infoName,span:10}," Looking for a job:"),r.a.createElement(Z.a,{className:Q.a.infoDescr,span:8},(null===t||void 0===t?void 0:t.lookingForAJob)?"Yes":"No")),r.a.createElement($.a,{className:Q.a.infoItem},r.a.createElement(Z.a,{className:Q.a.infoName,span:10}," Job description:"),r.a.createElement(Z.a,{className:Q.a.infoDescr,span:8},null===t||void 0===t?void 0:t.lookingForAJobDescription)),r.a.createElement($.a,{className:Q.a.infoItem},r.a.createElement(Z.a,{className:Q.a.infoName,span:10}," AboutMe:"),r.a.createElement(Z.a,{className:Q.a.infoDescr,span:8},null===t||void 0===t?void 0:t.aboutMe))),r.a.createElement(Z.a,{span:12},r.a.createElement(le.a,{level:4,style:{color:"wheat"}},"Contacts:"),r.a.createElement($.a,{justify:"space-between",gutter:4},l))))},ue=Object(N.a)({form:"myProfileForm"})((function(e){var t=e.profile,a=e.handleSubmit,n=e.error,c=t&&Object.keys(t.contacts),o=null===c||void 0===c?void 0:c.map((function(e){return r.a.createElement("li",{key:e},e,": ",r.a.createElement(x.a,{component:A.a,name:"contacts.".concat(e)}),n&&n.toLowerCase()===e.toLowerCase()&&r.a.createElement("div",null,"".concat(n,' field error: Url must be in format "https://').concat(n.toLowerCase(),'..."')))}));return r.a.createElement("form",{onSubmit:a},r.a.createElement($.a,null,r.a.createElement(Z.a,{span:18,style:{textAlign:"center"}},r.a.createElement(le.a,{level:2,style:{color:"wheat"}},"Set new info")),r.a.createElement(Z.a,{span:6,style:{justifyContent:"flex-end",display:"flex"}},r.a.createElement("button",{type:"submit",className:Q.a.submitBtn},"Save"))),r.a.createElement("div",null,"Name:",r.a.createElement(x.a,{component:A.a,name:"fullName",validate:[]})),r.a.createElement("div",null,"Looking for a job:",r.a.createElement(x.a,{component:A.a,name:"lookingForAJob",type:"checkbox",validate:[]})),r.a.createElement("div",null,"Job description:",r.a.createElement(x.a,{component:A.b,name:"lookingForAJobDescription",validate:[]})),r.a.createElement("div",null,"Job description:",r.a.createElement(x.a,{component:A.b,name:"aboutMe",validate:[]})),r.a.createElement("div",null,"Contacts:",r.a.createElement("ul",null,o)))})),se=a(573),me=a(572),fe=a(579),de=function(e){var t=e.profile,a=e.status,c=e.setNewStatus,o=e.isOwner,l=e.setNewPhoto,i=e.setUpdatedProfile,u=Object(j.d)((function(e){return e.auth.isLogged})),s=Object(n.useState)(!1),m=Object(_.a)(s,2),f=m[0],d=m[1];if(!u)return r.a.createElement(w.a,{to:"./login"});var p=t?r.a.createElement(se.a,{hoverable:!0,style:{width:240},cover:r.a.createElement("img",{alt:"ava",src:t.photos.large?t.photos.large:V.a})},r.a.createElement("div",{style:{textAlign:"center"}},o&&r.a.createElement(me.a,{name:"file",onChange:function(e){l(e.file),e.file.status}},r.a.createElement(ee.a,{icon:r.a.createElement(fe.a,null)},"Upload avatar")))):"";return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{className:Q.a.profileWrap},r.a.createElement(Z.a,{span:7},p),r.a.createElement(Z.a,{span:17},f?r.a.createElement(ue,{initialValues:t,profile:t,onSubmit:function(e){i(e)}}):r.a.createElement(ie,{profile:t,isOwner:o,onEditMode:function(){return d(!0)}}))),r.a.createElement(ne,{status:a,setNewStatus:c}),r.a.createElement(K,null))},pe=a(219),be=Object(s.d)(Object(j.b)((function(e){return{profile:e.profile.profile,status:e.profile.status,authId:e.auth.id}}),{setProfileData:B,getStatus:function(e){return function(t){Object(R.e)(e).then((function(e){t(G(e))}))}},setNewStatus:function(e){return function(t){Object(R.l)(e).then((function(a){0===a.resultCode&&t(G(e))})).catch((function(e){}))}},setNewPhoto:function(e){return function(t){Object(R.j)(e).then((function(e){0===e.resultCode&&t(Y(e.data.photos))})).catch((function(e){}))}},setUpdatedProfile:function(e){return function(){var t=Object(z.a)(U.a.mark((function t(a,n){var r,c,o;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.id,c=r&&r.toString(),t.next=4,Object(R.k)(e);case 4:if(0!==(o=t.sent).resultCode){t.next=9;break}a(B(c)),t.next=11;break;case 9:return a(Object(J.a)("myProfileForm",{_error:o.messages[0].substring(30,o.messages[0].length-1)})),t.abrupt("return",Promise.reject(o.messages[0]));case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),w.g,pe.a)((function(e){var t=e.match,a=e.history,c=e.profile,o=e.authId,l=e.status,i=e.setProfileData,u=e.getStatus,s=e.setNewStatus,m=e.setNewPhoto,f=e.setUpdatedProfile,d=t.params.userId;return Object(n.useEffect)((function(){d||(d=String(o))||a.push("/login"),i(d),u(d)}),[]),Object(n.useEffect)((function(){d||(d=String(o))||a.push("/login"),i(d),u(d)}),[d]),r.a.createElement(de,{profile:c,status:l,setNewStatus:s,isOwner:!d,setNewPhoto:m,setUpdatedProfile:f})})),Ee=function(e,t){return{type:i.i,data:e,isLogged:t}},ge=function(){return function(e){Object(R.a)().then((function(t){0===t.resultCode&&e(Ee(t.data,!0))})).catch((function(e){}))}},he=function(){return function(e){var t=e(ge());Promise.all([t]).then((function(){e({type:i.d})}))}},ve=function(){return function(e){Object(R.c)().then((function(t){var a;e((a=t.url,{type:i.f,captcha:a}))}))}},Oe=a(302),je=a.n(Oe),ye=Object(N.a)({form:"login"})((function(e){var t=e.captcha,a=e.handleSubmit,n=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:"22px"}},r.a.createElement("p",null,"Sorry but APP creation is still in progress"),r.a.createElement("p",null,"To log in get registered\u2002",r.a.createElement("a",{style:{color:"yellow"},href:"https://social-network.samuraijs.com/ ",target:"_blank"},"here")),r.a.createElement("p",null,"or use common test account credentials:"),r.a.createElement("p",null,"Email: free@samuraijs.com"),r.a.createElement("p",null,"Password: free")),r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,r.a.createElement(x.a,{placeholder:"Email",validate:[P.b],component:A.a,name:"email",type:"email"})),r.a.createElement("div",null,r.a.createElement(x.a,{placeholder:"Password",validate:[P.b],component:A.a,name:"password",type:"password"})),t&&r.a.createElement("img",{src:t,alt:"captcha"}),t&&r.a.createElement(x.a,{placeholder:"type symbols from the photo",validate:[P.b],component:A.a,name:"captcha",type:"text"}),r.a.createElement("div",null,r.a.createElement(x.a,{component:"input",type:"checkbox",name:"rememberMe"})," Remember me"),n&&r.a.createElement("div",{className:je.a.formError},n),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))})),we=Object(j.b)((function(e){return{isLogged:e.auth.isLogged,captcha:e.auth.captcha}}),{login:function(e,t,a,n){return function(r){Object(R.g)(e,t,a,n).then((function(e){if(0===e.resultCode)r(ge());else{10===e.resultCode&&r(ve());var t=e.messages.length>0?e.messages[0]:"Some error appeared";r(Object(J.a)("login",{_error:t}))}})).catch((function(e){}))}}})((function(e){var t=e.login,a=e.isLogged,n=e.captcha;return a?r.a.createElement(w.a,{to:"/profile"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Login"),r.a.createElement(ye,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha=null)},captcha:n}))})),_e=a(158),ke=a(305),Se=a.n(ke),xe=a(306),Ne=a(580),Pe=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.auth})),a=t.isLogged,n=t.isFetching,c=a?r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",style:{marginRight:"30px"}}),r.a.createElement(ee.a,{type:"primary",danger:!0,icon:r.a.createElement(Ne.a,null),onClick:function(){e((function(e){Object(R.h)().then((function(t){0===t.resultCode&&e(Ee({id:null,email:null,login:null},!1))})).catch((function(e){}))}))}},"Logout")):r.a.createElement(ae.a,{message:"You are not authorised",type:"warning"}),o=n?r.a.createElement(_e.a,null):c;return r.a.createElement($.a,{justify:"end",align:"middle",style:{height:"100%"}},o)},Ae=a(577),Le=a(77),Te=function(e){var t=e.location,a="news"===t||"music"===t||"login"===t?t:null,c=Object(n.useState)(null),o=Object(_.a)(c,2),l=o[0],i=o[1];Object(n.useEffect)((function(){i(a)}),[t]);var u=[{key:"news",label:"News",to:"/news",exact:!1},{key:"music",label:"Music",to:"/music",exact:!1},{key:"login",label:"Login",to:"/login",exact:!1}].map((function(e,t){var a=e.label,n=e.to,c=e.exact,o=e.key;return r.a.createElement(Ae.a.Item,{key:o,onClick:function(){return i(o)}},r.a.createElement(Le.c,{to:n,exact:c},a))}));return r.a.createElement(Ae.a,{theme:"dark",mode:"horizontal",selectedKeys:["".concat(l)]},u)},Ie=function(e){var t=e.location;return r.a.createElement(xe.Header,{className:"header",style:{padding:"0 24px"}},r.a.createElement($.a,null,r.a.createElement(Z.a,{span:18}," ",r.a.createElement(Te,{location:t})),r.a.createElement(Z.a,{span:6},r.a.createElement(Pe,null))))},Ce=a(581),Fe=a(582),De=a(218),Me=a.n(De),Ue=function(e){var t=e.location,a="profile"===t||"dialogs"===t||"settings"===t?t:null,c=Object(n.useState)(null),o=Object(_.a)(c,2),l=o[0],i=o[1];Object(n.useEffect)((function(){i(a)}),[t]);var u=Object(n.useState)("sub1"),s=Object(_.a)(u,2),m=s[0],f=s[1],d=[{key:"profile",label:"Profile",to:"/profile",exact:!1},{key:"dialogs",label:"Messages",to:"/dialogs",exact:!1},{key:"settings",label:"Settings",to:"/settings",exact:!1}].map((function(e){return r.a.createElement(Ae.a.Item,{key:e.key,onClick:function(){return i(e.key)}},r.a.createElement(Le.c,{to:e.to,exact:e.exact},e.label))}));return r.a.createElement(Ae.a,{mode:"inline",selectedKeys:["".concat(l)],openKeys:["".concat(m)],style:{height:"100%",borderRight:0}},r.a.createElement(Me.a,{key:"sub1",icon:r.a.createElement(Ce.a,null),title:"My Profile",onTitleClick:function(){return f("sub1")}},d),r.a.createElement(Me.a,{key:"sub2",icon:r.a.createElement(Fe.a,null),title:"Users",onTitleClick:function(){return f("sub2")}},r.a.createElement(Ae.a.Item,{key:"users",onClick:function(){return i("users")}},r.a.createElement(Le.c,{to:"./users"},"Users"))))},ze=r.a.lazy((function(){return a.e(7).then(a.bind(null,592))})),Je=r.a.lazy((function(){return a.e(3).then(a.bind(null,591))})),Re=r.a.lazy((function(){return a.e(5).then(a.bind(null,593))})),We=r.a.lazy((function(){return a.e(4).then(a.bind(null,590))})),Ge=r.a.lazy((function(){return a.e(6).then(a.bind(null,594))})),Ye=y.a.Content,Be=y.a.Sider,He=Object(s.d)(w.g)((function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.auth.initialized}));Object(n.useEffect)((function(){e(he())}),[]);var a=Object(w.f)().pathname.slice(1);return t?r.a.createElement(y.a,{className:Se.a.layout},r.a.createElement(Ie,{location:a}),r.a.createElement(y.a,null,r.a.createElement(Be,{width:200,className:"site-layout-background"},r.a.createElement(Ue,{location:a})),r.a.createElement(y.a,null,r.a.createElement(Ye,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280}},r.a.createElement(w.b,{exact:!0,path:"/",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(w.b,{path:"/dialogs",render:function(){return r.a.createElement(Je,null)}}),r.a.createElement(w.b,{path:"/news",component:function(){return r.a.createElement(Re,null)}}),r.a.createElement(w.b,{path:"/music",component:function(){return r.a.createElement(We,null)}}),r.a.createElement(w.b,{path:"/settings",component:function(){return r.a.createElement(Ge,null)}}),r.a.createElement(w.b,{path:"/users",render:function(){return r.a.createElement(ze,null)}})),r.a.createElement(w.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(w.b,{path:"/login",component:we}))))):r.a.createElement(_e.a,null)})),Ke=function(e){o.a.render(r.a.createElement(j.a,{store:O},r.a.createElement(Le.a,null,r.a.createElement(He,null))),document.getElementById("root"))};Ke(O.getState()),O.subscribe((function(){O.getState();Ke()}))},63:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s}));var n=a(123),r=a(211),c=a.n(r),o=a(0),l=a.n(o),i=function(e){var t=e.meta,a=Object(n.a)(e,["meta"]),r=t.error&&t.touched?c.a.error:"";return l.a.createElement("div",{className:"".concat(c.a.textArreaWrapper," ").concat(r)},a.children,t.error&&t.touched&&l.a.createElement("span",null,t.error))},u=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return l.a.createElement(i,e,l.a.createElement("textarea",Object.assign({},a,t)))},s=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return l.a.createElement(i,e,l.a.createElement("input",Object.assign({},a,t)))}},69:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"i",(function(){return l})),a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return s})),a.d(t,"l",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return d})),a.d(t,"j",(function(){return p})),a.d(t,"k",(function(){return b})),a.d(t,"c",(function(){return E}));var n=a(289),r=a.n(n).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"8a3288e4-c626-49c0-8a6e-b791c78489b1"}}),c=function(e){return r.get("users?page=".concat(e,"&count=5")).then((function(e){return e.data}))},o=function(e){return r.post("follow/".concat(e)).then((function(e){return e.data}))},l=function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))},i=function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},u=function(){return r.get("auth/me").then((function(e){return e.data}))},s=function(e){return r.get("profile/status/".concat(e)).then((function(e){return e.data}))},m=function(e){return r.put("profile/status/",{status:e}).then((function(e){return e.data}))},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("/auth/login/",{email:e,password:t,rememberMe:a,captcha:n}).then((function(e){return e.data}))},d=function(){return r.delete("/auth/login/").then((function(e){return e.data}))},p=function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},b=function(e){return r.put("profile",e).then((function(e){return e.data}))},E=function(){return r.get("/security/get-captcha-url/").then((function(e){return e.data}))}},95:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return e&&e?void 0:"This field is required"},r=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}}},[[334,1,2]]]);
//# sourceMappingURL=main.cbd00ce0.chunk.js.map