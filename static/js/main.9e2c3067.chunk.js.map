{"version":3,"sources":["assets/images/ava.gif","components/Navbar/friends/friends.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Preloader/preloader.module.css","components/Preloader/151.gif","components/Login/form.module.css","components/common/formControls.tsx","api/api.ts","redux/reducers/auth.ts","redux/reducers/profile.ts","redux/reducers/dialogs.ts","redux/reducers/sidebar.ts","redux/reducers/users.ts","redux/reduxStore.ts","components/Navbar/friends/index.js","components/Navbar/friends/Friends.jsx","components/Navbar/Navbar.tsx","components/Navbar/NavbarContainer.tsx","components/Profile/MyPosts/MyPostsForm.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","redux/actions/myPosts.ts","components/Profile/MyPosts/MyPostsContainer.ts","components/Profile/ProfileStatus.tsx","components/Profile/profieInfo.tsx","components/Profile/editProfileForm.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","redux/actions/auth.ts","components/Header/Header.tsx","components/Header/HeaderRequest.tsx","components/Header/HeaderContainer.ts","components/Login/loginForm.tsx","components/Login/login.tsx","App.tsx","index.tsx","utils/validators.ts","components/Preloader/preloader.tsx","components/Navbar/Navbar.module.css","redux/actions/types.ts","components/common/formControls.module.css","components/Header/Header.module.css","components/hoc/authRedirect.tsx"],"names":["module","exports","FormControls","meta","restProps","isError","error","touched","classes","className","textArreaWrapper","children","TextArea","props","input","Input","instance","axios","create","baseURL","withCredentials","headers","getItems","pageNumber","get","then","response","data","followThisUser","id","post","noFollowThisUser","delete","getThisUser","authMe","getThisStatus","updateThisStatus","status","put","loginMe","email","password","rememberMe","logoffMe","updatePhoto","ava","formData","FormData","append","updateProfile","profile","initialState","initialized","login","imageSrc","isFetching","isLogged","postList","like","users","label","messages","friendList","pageCount","initialPage","total","initialPagination","isFetchingFollow","followInProgress","reducers","combineReducers","state","action","type","ADD_POST","newPost","value","SET__PROFILE","SET_STATUS","SET_PHOTOS","photos","dialogs","ADD_MESSAGE","sidebar","FOLLOW","stateCopy","map","el","followed","NOFOLLOW","stateNewCopy","SET__PAGE","page","SET__TOTAL","SET__PAGINATION","pagination","SET__USERS","TOGGLE__PRELOADER","TOGGLE_FOLLOW_STATUS","userId","filter","auth","SET_USER_DATA","INITIALIZE_DATE","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Friends","myFriends","i","key","Navbar","links","to","exact","item","activeClassName","active","nav","NavbarContainer","connect","max","maxLength","MyPostsForm","reduxForm","handleSubmit","onSubmit","Field","component","name","placeholder","validate","required","Post","message","s","src","MyPosts","list","onPostAddedAction","Posts","values","PostFormText","postsActions","setProfileData","dispatch","MyPostsContainer","ProfileStatus","setNewStatus","useState","editMode","setEditMode","inputValue","setInputValue","useEffect","onDoubleClick","autoFocus","onBlur","onChange","e","currentTarget","ProfileInfo","isOwner","onEditMode","keys","Object","contacts","socials","isSocial","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","EditProfileForm","console","log","toLowerCase","Profile","setNewPhoto","setUpdatedProfile","useSelector","isProfile","large","alt","target","files","content","initialValues","ProfileContainer","authId","getStatus","resultCode","getState","a","currentId","Id","toString","stopSubmit","_error","substring","length","Promise","reject","withRouter","withAuthRedirect","match","history","params","String","push","setUserData","getUserData","catch","Header","logoff","userAvatar","loginContent","header","loginContentWrapper","HeaderRequest","headerProps","this","Component","HeaderContainer","LoginForm","style","fontSize","color","href","formError","errorMessage","UsersContainer","React","lazy","Dialogs","News","Music","Settings","App","initializeUserData","path","render","fallback","Login","AppContainer","promise","all","renderTree","ReactDOM","document","getElementById","subscribe","undefined","Preloader","gif","mapStateToProps","isAuth","WrappedComponent","RedirectComponent"],"mappings":"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","file":"static/js/main.9e2c3067.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ava.e36197b5.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Friends\":\"friends_Friends__e_14x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Posts\":\"MyPosts_Posts__uJhQY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2wdbA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"preloader_Preloader__3coKa\"};","module.exports = __webpack_public_path__ + \"static/media/151.027520c2.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formError\":\"form_formError__P2Q79\"};","import classes from './formControls.module.css';\r\nimport React from 'react'\r\nimport { WrappedFieldProps } from 'redux-form/lib/Field';\r\n\r\n const FormControls: React.FC<WrappedFieldProps> = ({meta, ...restProps\r\n }) => {\r\n   let isError = meta.error && meta.touched ? classes.error : \"\";\r\n\r\n   return (\r\n     <div className={`${classes.textArreaWrapper} ${isError}`}>\r\n       {restProps.children}\r\n       {meta.error && meta.touched && <span>{meta.error}</span>}\r\n     </div>\r\n   );\r\n };\r\n\r\nexport const TextArea:React.FC<WrappedFieldProps>  = (props) => {\r\n  const { input, meta, ...restProps } = props\r\n  return (\r\n    <FormControls {...props}>\r\n      <textarea {...restProps} {...input} />\r\n    </FormControls>\r\n  );\r\n};\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControls {...props}>\r\n      <input {...restProps} {...input} />\r\n    </FormControls>\r\n  );\r\n};\r\n\r\n","\r\nimport axios from 'axios'\r\nimport { ProfileDataType } from '../components/Profile/editProfileForm'\r\nimport { dataType } from '../redux/reducers/auth'\r\nimport { ProfileType } from '../redux/reducers/profile'\r\nimport { UsersType } from '../redux/reducers/users'\r\n\r\nlet instance = axios.create({\r\nbaseURL:`https://social-network.samuraijs.com/api/1.0/`,\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"8a3288e4-c626-49c0-8a6e-b791c78489b1\",\r\n  },\r\n})\r\n\r\ntype CommonResponseType<D> = {\r\n  resultCode: number\r\n  messages: Array<string>\r\n  data: D\r\n}\r\n\r\ntype GetItemsResponseType = {\r\n  items: UsersType\r\n  totalCount: number\r\n  error: null | string\r\n}\r\n\r\n\r\n\r\nexport const getItems = (pageNumber: number) => {\r\n  return instance.get<GetItemsResponseType>(`users?page=${pageNumber}&count=5`).then(response => response.data)\r\n}\r\n  \r\nexport const followThisUser = (id: number) => {\r\n  return instance.post<CommonResponseType<{}>>(`follow/${id}`).then(response => response.data)\r\n}\r\nexport const noFollowThisUser = (id: number) => {\r\n  return instance.delete<CommonResponseType<{}>>(`follow/${id}`).then(response => response.data)\r\n}\r\nexport const getThisUser = (id: string) => {\r\n  return instance.get<ProfileType>(`profile/${id}`).then(response => response.data)\r\n}\r\nexport const authMe = () => {\r\n  return instance.get<CommonResponseType<dataType>>(`auth/me`).then(response => response.data)\r\n}\r\nexport const getThisStatus = (id: string) => {\r\n  return instance.get(`profile/status/${id}`).then(response => response.data)\r\n}\r\nexport const updateThisStatus = (status: string) => {\r\n  return instance.put<CommonResponseType<Object>>(`profile/status/`,{status}).then(response => response.data)\r\n}\r\nexport const loginMe = (email: string, password: string, rememberMe: boolean = false) => {\r\n  return instance.post<CommonResponseType<{userId:number}>>(`/auth/login/`,{email, password, rememberMe}).then(response => response.data)\r\n}\r\nexport const logoffMe = () => {\r\n  return instance.delete<CommonResponseType<{}>>(`/auth/login/`).then(response => response.data)\r\n}\r\nexport const updatePhoto = (ava: string | Blob) => {\r\n  const formData = new FormData()\r\n  formData.append('image', ava)\r\n    return instance.put(`profile/photo`, formData, {headers:{'Content-Type': 'multipart/form-data'}}).then((response)=>response.data)\r\n}\r\nexport const updateProfile = (profile: ProfileDataType) => {\r\n  \r\n    return instance.put(`profile`, profile).then((response)=>response.data)\r\n  }","\r\nimport { InitializeDataType, setUserDataType } from \"../actions/auth\";\r\nimport {  INITIALIZE_DATE, SET_USER_DATA } from \"../actions/types\";\r\n\r\n\r\nexport type dataType = {\r\n  id: null | number\r\n  email: null | string\r\n  login: null | string\r\n  \r\n}\r\nexport type authStateType = dataType & {\r\n  initialized: boolean\r\n  isFetching: boolean\r\n  isLogged: boolean\r\n  imageSrc:null | string\r\n}\r\n\r\nconst initialState: authStateType = {\r\n  initialized: false,\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  imageSrc:null,\r\n  isFetching: true,\r\n  isLogged: false\r\n}\r\n\r\nexport const authReducer = (state: authStateType = initialState, action: setUserDataType | InitializeDataType)\r\n  : authStateType => {\r\n  switch (action.type) {\r\n      case SET_USER_DATA: return { ...state, isLogged: action.isLogged, isFetching: false, ...action.data }\r\n      case INITIALIZE_DATE: return{...state, initialized:true, isFetching:false}\r\n        default:\r\n        { return state } \r\n        \r\n    }\r\n}\r\n","import { postsActionType} from \"../actions/myPosts\";\r\nimport { ADD_POST, SET_PHOTOS, SET_STATUS, SET__PROFILE } from \"../actions/types\";\r\nimport { ContactsType, PhotosType } from \"./users\";\r\n\r\nexport type postType = { post: string, like: number }\r\nexport type postListType = Array<postType>\r\nexport type newPostTextType = string\r\n\r\n\r\nexport type ProfileType = {\r\n  userId: number\r\n  contacts: ContactsType\r\n  fullName: string\r\n  lookingForAJob: false\r\n  lookingForAJobDescription: null | string\r\n    photos: PhotosType\r\n    aboutMe: string\r\n  \r\n}\r\nexport type profileStateType = typeof initialState\r\n\r\nconst initialState= {\r\n    postList: [\r\n        {post: \"My message\", like: 1},\r\n        { post: \"My second message\", like: 6 }],\r\n    profile: null as ProfileType | null,\r\n\r\n    status: ''\r\n}\r\n\r\nexport const profileReducer = (state: profileStateType = initialState, action: postsActionType): profileStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = { post: action.value, like: 3 }\r\n            return {\r\n                ...state,\r\n                postList: [...state.postList, newPost],\r\n            }\r\n        }\r\n        case SET__PROFILE:\r\n            return { ...state, profile: action.profile }\r\n\r\n        case SET_STATUS:\r\n            return { ...state, status: action.status }\r\n        case SET_PHOTOS: \r\n            return {...state, profile:{...state.profile, photos:action.photos} as ProfileType }\r\n        default:\r\n            { return state }\r\n    }\r\n}","\r\nimport { dialogsType } from \"../actions/messages\";\r\nimport { ADD_MESSAGE } from \"../actions/types\";\r\n\r\nexport type userType = { label: string }\r\nexport type usersType = typeof initialState.users\r\nexport type messageType = { label: string, id: number }\r\nexport type messagesType = Array<messageType>\r\n\r\nexport type dialogsStateType = typeof initialState\r\n\r\nconst initialState = {\r\n        users: [\r\n            {label: \"Anna\"},\r\n            {label: \"Natalya\"},  \r\n            {label: \"Vladimir\"},\r\n            {label: \"Mike\"},\r\n            {label: \"John\"},\r\n            {label: \"Piter\"},\r\n            {label: \"Alex\"},\r\n            {label: \"Frank\"}\r\n        ],  \r\n\r\n        messages: [\r\n            { label: \"I am fine\", id: 1 },\r\n            { label: \"Hello\", id: 2 },\r\n            { label: \"What is you name?\", id: 3},\r\n            { label: \"Look at this!\", id: 4},\r\n            { label: \"Yo bro!\", id: 5}\r\n        ]\r\n}\r\n    \r\nexport const dialogReducer = (state:dialogsStateType = initialState, action:dialogsType):dialogsStateType => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      let newPost = { label: action.value, id: 34 };\r\n      return {\r\n        ...state,  \r\n        messages:[...state.messages, newPost]\r\n      }\r\n      \r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};","\r\nexport type friendType = {\r\n  label:string\r\n}\r\nexport type friendsType = Array<friendType>\r\n\r\nexport type friendsStateType = typeof initialState\r\nconst initialState = {\r\n    friendList: [\r\n        { label: 'Andrew' },\r\n        { label: 'Sasha' },\r\n        {label: 'Sveta'}\r\n    ]\r\n}\r\nexport const sidebarReducer = (state:friendsStateType = initialState, action:any):friendsStateType=> {\r\n    return state\r\n}","import {\r\n  FOLLOW,\r\n  NOFOLLOW,\r\n  SET__PAGE,\r\n  SET__USERS,\r\n  SET__TOTAL,\r\n  SET__PAGINATION,\r\n  TOGGLE__PRELOADER,\r\n  TOGGLE_FOLLOW_STATUS,\r\n} from \"../actions/types\";\r\nimport { usersActionType } from \"../actions/users\";\r\n\r\n\r\nexport type PhotosType = {\r\n  small: null | string\r\n  large: null | string\r\n}\r\nexport type UserType = {\r\n  id: number\r\n  name: string\r\n  photos: PhotosType\r\n  status: null | string\r\n  followed: boolean\r\n}\r\nexport type UsersType = Array<UserType>\r\n\r\nexport type ContactsType = {\r\n  facebook: null | string\r\n  website: null | string\r\n  vk: null | string\r\n  twitter: null | string\r\n  instagram: null | string\r\n  github: null | string\r\n  youtube: null | string\r\n  mainLink: null | string\r\n}\r\n\r\nexport type UsersStateType = typeof initialState\r\nconst initialState = {\r\n  users: [] as UsersType,\r\n  pageCount: 5,\r\n  initialPage: 1,\r\n  total: 0,\r\n  initialPagination: 0,\r\n  isFetching: false,\r\n  isFetchingFollow: false,\r\n  followInProgress: [] as Array<number>\r\n};\r\n\r\nexport const usersReducer = (state:UsersStateType = initialState, action:usersActionType):UsersStateType => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      let stateCopy = {\r\n        ...state,\r\n        users: state.users.map((el) => {\r\n          if (el.id === action.id) {\r\n            el.followed = true;\r\n            return el;\r\n          }\r\n          return el;\r\n        }),\r\n      };\r\n      return stateCopy;\r\n    case NOFOLLOW:\r\n      let stateNewCopy = {\r\n        ...state,\r\n        users: state.users.map((el) => {\r\n          if (el.id === action.id) {\r\n            el.followed = false;\r\n            return el;\r\n          }\r\n          return el;\r\n        }),\r\n      };\r\n      return stateNewCopy;\r\n    case SET__PAGE:\r\n      return { ...state, initialPage: action.page };\r\n    case SET__TOTAL:\r\n      return { ...state, total: action.total };\r\n    case SET__PAGINATION:\r\n      return { ...state, initialPagination: action.pagination };\r\n    case SET__USERS:\r\n      return { ...state, users: [...action.users] };\r\n    case TOGGLE__PRELOADER:\r\n      return {...state, isFetching: action.isFetching}\r\n    case TOGGLE_FOLLOW_STATUS: \r\n      return {\r\n        ...state,\r\n        followInProgress: action.isFetchingFollow\r\n          ? [...state.followInProgress, action.userId]\r\n          : state.followInProgress.filter((el)=> el !== action.userId)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n","import { authReducer } from './reducers/auth';\r\nimport {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profileReducer} from \"./reducers/profile\";\r\nimport {dialogReducer} from \"./reducers/dialogs\";\r\nimport { sidebarReducer } from \"./reducers/sidebar\";\r\nimport { usersReducer } from \"./reducers/users\";\r\nimport thunk from 'redux-thunk';\r\nimport{ reducer as formReducer} from 'redux-form'\r\n\r\n\r\nconst reducers = combineReducers({\r\n  profile: profileReducer,\r\n  dialogs: dialogReducer,\r\n  sidebar: sidebarReducer,\r\n  users: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer\r\n});\r\n\r\n\r\ntype rootReducerType = typeof reducers\r\nexport type RootStateType = ReturnType<rootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)))\r\nexport default store","import Friends from './Friends'\r\nexport default Friends","import React from 'react';\r\nimport classes from './friends.module.css'\r\n\r\nconst Friends = ({friendList}) => {\r\n\r\n const myFriends = friendList.map(({label}, i) => {\r\n        return (\r\n            <li key={i}>{label}</li>\r\n        )    \r\n        })\r\n    return (\r\n        <div className={classes.Friends}>\r\n            <h2>Friends</h2>\r\n            <ul>{myFriends}</ul>\r\n        </div>\r\n    )\r\n}\r\nexport default Friends","\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { friendType } from \"../../redux/reducers/sidebar\";\r\nimport Friends from \"./friends\";\r\nimport classes from \"./Navbar.module.css\";\r\n\r\ntype navBarPropsType = {\r\n  friendList: Array<friendType>;\r\n};\r\nconst Navbar:React.FC<navBarPropsType> = ({ friendList }) => {\r\n  const list = [\r\n    { label: \"Profile\", to: \"/profile\", exact: false },\r\n    { label: \"Messages\", to: \"/dialogs\", exact: false },\r\n    { label: \"News\", to: \"/news\", exact: false },\r\n    { label: \"Music\", to: \"/music\", exact: false },\r\n    { label: \"Settings\", to: \"/settings\", exact: false },\r\n    { label: \"Users\", to: \"/users\", exact: false },\r\n    // { label: \"Users\", to: \"/users\", exact: false },\r\n  ];\r\n\r\n  const links = list.map(({ label, to, exact }, i) => {\r\n    return (\r\n      <li key={i}>\r\n        <NavLink\r\n          className={classes.item}\r\n          to={to}\r\n          exact={exact}\r\n          activeClassName={classes.active}\r\n        >\r\n          {label}\r\n        </NavLink>\r\n      </li>\r\n    );\r\n  });\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <ul>{links}</ul>\r\n      <Friends friendList={friendList} />\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { connect } from \"react-redux\";\r\nimport {friendType } from \"../../redux/reducers/sidebar\";\r\nimport { RootStateType } from \"../../redux/reduxStore\";\r\nimport Navbar from \"./Navbar\";\r\n\r\ntype MapStatePropsType = {\r\n  friendList: Array<friendType>;\r\n};\r\nlet mapStateToProps = (state: RootStateType):MapStatePropsType => {\r\n  return {\r\n    friendList: state.sidebar.friendList,\r\n  };\r\n};\r\nconst NavbarContainer = connect<MapStatePropsType, {}, {}, RootStateType>(mapStateToProps)(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import React from 'react'\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { maxLength, required } from '../../../utils/validators';\r\nimport { TextArea } from '../../common/formControls';\r\n\r\n\r\nexport type PostsDataType = {\r\n  PostFormText: string\r\n}\r\nconst max= maxLength(100)\r\nconst MyPostsF: React.FC<InjectedFormProps<PostsDataType>> = ({\r\n  handleSubmit,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <Field\r\n        component={TextArea}\r\n        name=\"PostFormText\"\r\n        placeholder=\"Type your message\"\r\n        validate={[required, max]}\r\n      />\r\n      <button>Add post</button>\r\n    </form>\r\n  );\r\n};\r\nconst MyPostsForm = reduxForm<PostsDataType>({\r\nform: 'MyPostForm'\r\n})(MyPostsF)\r\n\r\nexport default MyPostsForm","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\n\r\ntype SinglePostType = {\r\n    message: string\r\n    like: number\r\n}\r\nconst Post: React.FC<SinglePostType> = ({message, like}) => {\r\n\r\n  return (\r\n    <li className={s.item}>\r\n      <img src='https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg' />\r\n        {message }\r\n        <div>\r\n        <span>like {like}</span>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { postListType } from '../../../redux/reducers/profile';\r\nimport classes from './MyPosts.module.css';\r\nimport MyPostsForm, { PostsDataType } from './MyPostsForm';\r\nimport Post from './Post/Post';\r\n\r\nexport type PropsPostType = {\r\n  list: postListType;\r\n  onPostAddedAction: (value: string) => void;\r\n};\r\n\r\nconst MyPosts: React.FC<PropsPostType> = ({\r\n  list,\r\n  onPostAddedAction,\r\n\r\n}) => {\r\n  const postList = list.map(({ post, like }, i) => {\r\n    return <Post key={i} message={post} like={like} />;\r\n  });\r\n\r\n\r\n\r\n  const onPostsFormHandler = (values: PostsDataType) => {\r\n    onPostAddedAction(values.PostFormText);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.Posts}>\r\n      <h2>My Posts</h2>\r\n      <MyPostsForm onSubmit={onPostsFormHandler}/>\r\n      <ul>{postList}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyPosts;","\r\nimport { Action } from 'redux';\r\nimport { FormAction, stopSubmit } from 'redux-form';\r\nimport { ThunkAction, ThunkDispatch } from \"redux-thunk\";\r\nimport { getThisStatus, getThisUser, updatePhoto, updateProfile, updateThisStatus, } from \"../../api/api\";\r\nimport { ProfileDataType } from \"../../components/Profile/editProfileForm\";\r\nimport { ProfileType } from \"../reducers/profile\";\r\nimport { PhotosType } from \"../reducers/users\";\r\nimport { RootStateType } from \"../reduxStore\";\r\nimport { ADD_POST, SET_PHOTOS, SET_STATUS, SET__PROFILE } from \"./types\";\r\n\r\n\r\n\r\n\r\ntype auxType<T> = T extends { [key: string]: infer actionType } ? actionType : never\r\nexport type postsActionType = ReturnType<auxType<typeof postsActions>>\r\n\r\n\r\nexport const postsActions = {\r\n  onPostAddedAction: (value: string) => {\r\n    return { type: ADD_POST, value } as const;\r\n  },\r\n  setProfile: (profile: ProfileType) => {\r\n    return { type: SET__PROFILE, profile } as const;\r\n  },\r\n  setStatus: (status: string) => {\r\n    return { type: SET_STATUS, status } as const\r\n  },\r\n  setPhotos: (photos: PhotosType) => {\r\n    return { type: SET_PHOTOS, photos } as const\r\n  }\r\n}\r\n\r\n\r\nexport const setProfileData = (id: string): ThunkAction<void, RootStateType, unknown, postsActionType> => {\r\n  return (dispatch) => {\r\n    getThisUser(id).then((data) => {\r\n\r\n\r\n      dispatch(postsActions.setProfile(data));\r\n    });\r\n  }\r\n}\r\n\r\nexport const getStatus = (id: string): ThunkAction<void, RootStateType, unknown, postsActionType> => {\r\n  return (dispatch) => {\r\n    getThisStatus(id).then((data) => {\r\n      dispatch(postsActions.setStatus(data));\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport const setNewStatus = (status: string): ThunkAction<void, RootStateType, unknown, postsActionType> => {\r\n  return (dispatch) => {\r\n    updateThisStatus(status).then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(postsActions.setStatus(status));\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport const setNewPhoto = (ava: string | Blob): ThunkAction<void, RootStateType, unknown, postsActionType> => {\r\n  return (dispatch) => {\r\n    updatePhoto(ava).then((data) => {\r\n      if (data.resultCode === 0) {\r\n        dispatch(postsActions.setPhotos(data.data.photos))\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const setUpdatedProfile = (profile: ProfileDataType): ThunkType => async (dispatch, getState) => {\r\n  let currentId = getState().auth.id\r\n  let Id = currentId && currentId.toString()\r\n  const response = await updateProfile(profile);\r\n \r\n  if (response.resultCode === 0) {\r\n    dispatch(setProfileData(Id as string))\r\n  }else {\r\n    dispatch(stopSubmit('myProfileForm', { _error: response.messages[0].substring(30, response.messages[0].length-1) }))\r\n    return Promise.reject(response.messages[0])\r\n  }\r\n}\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, RootStateType, unknown, A>\r\ntype ThunkType = BaseThunkType<postsActionType | FormAction>","import { RootStateType } from '../../../redux/reduxStore';\r\nimport { connect } from 'react-redux'\r\nimport MyPosts from './MyPosts'\r\nimport { postsActions} from \"../../../redux/actions/myPosts\";\r\nimport {  postListType } from '../../../redux/reducers/profile';\r\n\r\nconst { onPostAddedAction} = postsActions\r\n\r\ntype MapStateType = {\r\n  list: postListType\r\n  \r\n  \r\n}\r\ntype MapDispatchType = {\r\n  onPostAddedAction: (value:string) => void\r\n  \r\n}\r\nlet mapStateToProps = (state:RootStateType):MapStateType => {\r\n  return {\r\n    list: state.profile.postList,\r\n\r\n    \r\n  };\r\n}\r\n\r\nconst MyPostsContainer = connect<MapStateType, MapDispatchType, {}, RootStateType>(mapStateToProps, {onPostAddedAction})(MyPosts)\r\nexport default  MyPostsContainer","import React, { ChangeEvent, useEffect, useState } from 'react'\r\n\r\n\r\nexport type ProfileStatusPropsType = {\r\n  status: string\r\n  setNewStatus: (status: string) => void\r\n}\r\nconst ProfileStatus: React.FC<ProfileStatusPropsType> = ({ status, setNewStatus }) => {\r\n  const [editMode, setEditMode] = useState<boolean>(false)\r\n  const [inputValue, setInputValue] = useState<string>(status)\r\n\r\n  useEffect(() => {\r\n    setInputValue(status)\r\n  }, [status])\r\n\r\n  const onEditMode = () => {\r\n    setEditMode(true)\r\n  }\r\n  const ofEditMode = () => {\r\n    setEditMode(false)\r\n    setNewStatus(inputValue)\r\n  }\r\n  const onStatusUpdate = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setInputValue(e.currentTarget.value)\r\n  };\r\n  return (\r\n    <div>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={onEditMode}>{status || '-------'}</span>\r\n        </div>\r\n      )}\r\n\r\n      {\r\n        editMode && <div>\r\n          <input\r\n            autoFocus onBlur={ofEditMode}\r\n            onChange={onStatusUpdate}\r\n            value={inputValue} />\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\nexport default ProfileStatus","import React from 'react'\r\nimport { ProfileType } from '../../redux/reducers/profile'\r\n\r\ntype ProfileInfoTypes = {\r\n  profile: ProfileType | null\r\n  isOwner: boolean\r\n  onEditMode: ()=>void\r\n}\r\nconst ProfileInfo: React.FC<ProfileInfoTypes> = ({ profile, isOwner, onEditMode }) => {\r\n   \r\n    let keys = profile && (Object.keys(profile.contacts) as Array<keyof typeof profile.contacts>);\r\n  let socials = keys?.map((el) => {\r\n      let isSocial = profile?.contacts[el] !== null ? profile?.contacts[el] :''\r\n      return <li key={el}>{`${el}: ${isSocial}`}</li>;\r\n    });\r\n  \r\n  return (\r\n    <>\r\n      {isOwner && <button onClick={() => onEditMode()}>Edit Profile</button>}\r\n      <div>Name: {profile?.fullName}</div>\r\n      <div>Looking for a job: {profile?.lookingForAJob ? \"Yes\" : \"No\"}</div>\r\n      <div>Job description: {profile?.lookingForAJobDescription}</div>\r\n      <div>AboutMe: { profile?.aboutMe}</div>\r\n      <div>\r\n        Contacts:\r\n        <ul>{socials}</ul>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default ProfileInfo","import React from 'react'\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\nimport { ProfileType } from '../../redux/reducers/profile'\r\nimport { Input, TextArea } from '../common/formControls';\r\n\r\n type ProfileFormType = {\r\n  profile: ProfileType | null\r\n}\r\nexport type ProfileDataType = {\r\n  FullName: string;\r\n  lookingForAJob: boolean;\r\n  lookingForAJobDescription: string;\r\n  AboutMe: string\r\n  contacts: {\r\n    facebook: string\r\n    vk: string\r\n    website: string\r\n    twitter: string\r\n    instagram: string\r\n    youtube: string\r\n    github: string\r\n    mainLink: string\r\n  }\r\n};\r\nconst ProfileForm: React.FC<ProfileFormType & InjectedFormProps<ProfileDataType, ProfileFormType>> = ({ profile, handleSubmit, error }) => {\r\n  console.log(error);\r\n      let keys = profile && (Object.keys(profile.contacts) as Array<keyof typeof profile.contacts>);\r\n    let socials = keys?.map((el) => {\r\n      return (\r\n        <li key={el}>\r\n          {el}: <Field component={Input} name={`contacts.${el}`} />\r\n          {error && error.toLowerCase() === el.toLowerCase() && <div>{`${error} field error: Url must be in format \"https://${error.toLowerCase()}...\"`}</div>}\r\n        </li>\r\n      );\r\n    });\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <button type=\"submit\">Save</button>\r\n      \r\n      <div>\r\n        Name:\r\n        <Field component={Input} name=\"fullName\" validate={[]}/>\r\n      </div>\r\n      <div>\r\n        Looking for a job:\r\n        <Field component={Input} name=\"lookingForAJob\" type={\"checkbox\"} validate={[]} />\r\n      </div>\r\n      <div>\r\n        Job description:\r\n        <Field component={TextArea} name=\"lookingForAJobDescription\" validate={[]}/>\r\n      </div>\r\n        <div>\r\n        Job description:\r\n        <Field component={TextArea} name=\"aboutMe\" validate={[]}/>\r\n      </div>\r\n      <div>\r\n        Contacts:\r\n        <ul>{socials}</ul>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nconst EditProfileForm = reduxForm<ProfileDataType, ProfileFormType>({\r\n  form: \"myProfileForm\",\r\n})(ProfileForm);\r\nexport default EditProfileForm","import React, { ChangeEvent, useState} from \"react\";\r\nimport s from \"./Profile.module.css\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ava from \"../../assets/images/ava.gif\";\r\nimport { ProfileType } from \"../../redux/reducers/profile\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootStateType } from \"../../redux/reduxStore\";\r\nimport { Redirect } from \"react-router\";\r\nimport ProfileInfo from \"./profieInfo\";\r\nimport EditProfileForm, { ProfileDataType } from \"./editProfileForm\";\r\n\r\ntype ProfilePropsType = {\r\n  profile: ProfileType | null;\r\n  status: string;\r\n  setNewStatus: (status: string) => void;\r\n  isOwner: boolean;\r\n  setNewPhoto: (ava: string | Blob) => void;\r\n  setUpdatedProfile: (data: ProfileDataType) => Promise<any>;\r\n};\r\n\r\nconst Profile: React.FC<ProfilePropsType> = ({\r\n  profile,\r\n  status,\r\n  setNewStatus,\r\n  isOwner,\r\n  setNewPhoto,\r\n  setUpdatedProfile,\r\n}) => {\r\n  let isLogged = useSelector<RootStateType, boolean>(\r\n    (state) => state.auth.isLogged\r\n  );\r\n  const [editMode, setEditMode] = useState<boolean>(false);\r\n\r\n  if (!isLogged) {\r\n    return <Redirect to=\"./login\" />;\r\n  }\r\n  const onPhotoChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      setNewPhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  let isProfile = profile ? (\r\n    <>\r\n      <img\r\n        src={!profile.photos.large ? ava : profile.photos.large}\r\n        alt={\"ava\"}\r\n      />\r\n      {isOwner && <input type={\"file\"} onChange={onPhotoChange} />}\r\n    </>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const onSubmit = (data: ProfileDataType) => {\r\n    console.log(typeof setUpdatedProfile);\r\n    setUpdatedProfile(data)\r\n  };\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      <div>{isProfile}</div>\r\n      <ProfileStatus status={status} setNewStatus={setNewStatus} />\r\n\r\n      {editMode ? (\r\n        <EditProfileForm initialValues={profile as Partial<ProfileDataType> | undefined} profile={profile} onSubmit={onSubmit} />\r\n      ) : (\r\n        <ProfileInfo\r\n          profile={profile}\r\n          isOwner={isOwner}\r\n          onEditMode={() => setEditMode(true)}\r\n        />\r\n      )}\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, {ComponentType, useEffect } from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { RootStateType } from \"../../redux/reduxStore\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../hoc/authRedirect\";\r\nimport {\r\n  getStatus,\r\n  setProfileData,\r\n  setNewStatus,\r\n  setNewPhoto,\r\n  setUpdatedProfile\r\n} from \"../../redux/actions/myPosts\";\r\nimport { ProfileType } from \"../../redux/reducers/profile\";\r\nimport { ProfileDataType } from \"./editProfileForm\";\r\n\r\ntype MapStateType = {\r\n  profile: ProfileType | null;\r\n  status: string,\r\n  authId: number | null\r\n};\r\ntype MapDispatchType = {\r\n  setProfileData: (id: string) => void;\r\n  getStatus: (status: string) => void;\r\n  setNewStatus: (status: string) => void;\r\n  setNewPhoto: (ava: string | Blob) => void;\r\n  setUpdatedProfile: (data: ProfileDataType) => Promise<any>;\r\n};\r\ntype PathParamsType = {\r\n  userId: string\r\n}\r\ntype OwnPropsType = MapStateType & MapDispatchType\r\n\r\ntype ProfileAPIPropsType = RouteComponentProps<PathParamsType> & OwnPropsType\r\n\r\nconst ProfileAPI: React.FC<ProfileAPIPropsType> = ({\r\n  match,\r\n  history,\r\n  profile,\r\n  authId,\r\n  status,\r\n  setProfileData,\r\n  getStatus,\r\n  setNewStatus,\r\n  setNewPhoto,\r\n  setUpdatedProfile\r\n}) => {\r\n  let userId = match.params.userId;\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      userId = String(authId);\r\n      if (!userId) {\r\n        history.push(\"/login\");\r\n      }\r\n    }\r\n    setProfileData(userId);\r\n    getStatus(userId);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      userId = String(authId);\r\n      if (!userId) {\r\n        history.push(\"/login\");\r\n      }\r\n    }\r\n    setProfileData(userId);\r\n    getStatus(userId);\r\n  }, [userId]);\r\n\r\n  return (\r\n    <Profile\r\n      profile={profile}\r\n      status={status}\r\n      setNewStatus={setNewStatus}\r\n      isOwner={!userId}\r\n      setNewPhoto={setNewPhoto}\r\n      setUpdatedProfile={setUpdatedProfile}\r\n    />\r\n  );\r\n};\r\n\r\nlet mapStateToProps = (state: RootStateType): MapStateType => {\r\n  return {\r\n    profile: state.profile.profile,\r\n    status: state.profile.status,\r\n    authId: state.auth.id\r\n  };\r\n}\r\n\r\n\r\nconst ProfileContainer = compose<ComponentType>(\r\n  connect<MapStateType, any, {}, RootStateType>(mapStateToProps, {\r\n    setProfileData,\r\n    getStatus,\r\n    setNewStatus,\r\n    setNewPhoto,\r\n    setUpdatedProfile\r\n  }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileAPI);\r\nexport default ProfileContainer;\r\n","import { FormAction, stopSubmit } from \"redux-form\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { authMe,  loginMe, logoffMe } from \"../../api/api\";\r\nimport { dataType } from \"../reducers/auth\";\r\nimport { RootStateType } from \"../reduxStore\";\r\nimport { INITIALIZE_DATE, SET_USER_DATA } from \"./types\";\r\n\r\nexport type setUserDataType = ReturnType<typeof setUserData>\r\nexport type StopSubmitType = ReturnType<typeof stopSubmit>\r\nexport type InitializeDataType = ReturnType<typeof initializeData>\r\n\r\nexport const setUserData = (data: dataType, isLogged: boolean) => { \r\n    return { type: SET_USER_DATA, data, isLogged } as const;\r\n}\r\nexport const initializeData = () => {\r\n  return{type: INITIALIZE_DATE} as const\r\n}\r\n\r\n\r\nconst getUserData = (): ThunkAction<void, RootStateType, unknown, setUserDataType> => {\r\n  return (dispatch) => {\r\n\r\n        authMe().then((data) => {\r\n          if (data.resultCode === 0) {\r\n          dispatch(setUserData(data.data, true))\r\n          }\r\n          console.log(data);\r\n          \r\n        }).catch((e) => {\r\n        console.log({...e});\r\n        \r\n      });\r\n  }\r\n}\r\nexport const initializeUserData = (): ThunkAction<void, RootStateType, unknown, InitializeDataType> => {\r\n  return (dispatch) => {\r\n    let promise = dispatch(getUserData())\r\n    Promise.all([promise]).then(() => {\r\n      dispatch(initializeData())\r\n    })\r\n  }\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean):ThunkAction<void, RootStateType, unknown, FormAction> => {\r\n  return (dispatch) => {\r\n    loginMe(email, password, rememberMe).then((data) => {\r\n          if (data.resultCode === 0) {\r\n          dispatch(getUserData())\r\n          } else {\r\n            let errorMessage = data.messages.length > 0 ? data.messages[0] : 'Some error appeared'\r\n            dispatch(stopSubmit('login', { _error: errorMessage }))\r\n          }\r\n      });\r\n  }\r\n}\r\n\r\nexport const logoff = ():ThunkAction<void, RootStateType, unknown, setUserDataType> => {\r\n  return (dispatch) => {\r\n        logoffMe().then((data) => {\r\n          if (data.resultCode === 0) {\r\n         dispatch(setUserData({  id: null, email: null, login: null}, false))\r\n        }\r\n      });\r\n  }\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Preloader from '../Preloader/preloader';\r\nimport s from './Header.module.css';\r\n\r\ntype HeaderPropsType = {\r\n  login: null | string;\r\n  isFetching: boolean;\r\n  isLogged: boolean;\r\n  logoff: () => void;\r\n};\r\nconst Header: React.FC<HeaderPropsType> = ({ login, isFetching, isLogged, logoff }) => { \r\n  const onLogout = () => {\r\n    logoff();\r\n  };\r\n\r\n  let userAvatar = isLogged ? (\r\n    <>\r\n      <img alt=\"ava\" />\r\n      {login}\r\n      <button onClick={onLogout}>Logout</button>\r\n    </>\r\n  ) : (\r\n    <NavLink to=\"/login\"> login</NavLink>\r\n  );\r\n  let loginContent = isFetching ? <Preloader /> : userAvatar;\r\n  return (\r\n    <header className={s.header}>\r\n      <div></div>\r\n      <div className={s.loginContentWrapper}>{loginContent}</div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","\r\nimport React, { Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { AuthDispatchType, AuthMapStateTypes } from \"./HeaderContainer\";\r\n\r\ntype PropsType = AuthMapStateTypes & AuthDispatchType;\r\nclass HeaderRequest extends Component<PropsType> {\r\n\r\n\r\n  render() {\r\n    const { ...headerProps } = this.props;\r\n    return <Header {...headerProps} />;\r\n  }\r\n}\r\nexport default HeaderRequest","\r\nimport { connect } from \"react-redux\";\r\nimport{logoff} from '../../redux/actions/auth'\r\nimport { RootStateType } from \"../../redux/reduxStore\";\r\nimport HeaderRequest from \"./HeaderRequest\";\r\n\r\nexport type AuthMapStateTypes = {\r\n  login: null | string\r\n  isFetching:  boolean\r\n  isLogged: boolean\r\n};\r\nexport type AuthDispatchType = {\r\n  logoff: ()=>void\r\n}\r\nconst mapStateToProps = (state:RootStateType):AuthMapStateTypes => {\r\n  return {\r\n    login: state.auth.login,\r\n    isFetching: state.auth.isFetching,\r\n    isLogged: state.auth.isLogged\r\n  }\r\n}\r\n\r\nconst HeaderContainer = connect<\r\n  AuthMapStateTypes,\r\n  AuthDispatchType,\r\n  {},\r\n  RootStateType\r\n>(mapStateToProps, {logoff })(HeaderRequest);\r\n export default HeaderContainer","import classes from './form.module.css';\r\nimport React from 'react'\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { required } from '../../utils/validators';\r\nimport { Input } from '../common/formControls';\r\n\r\nexport type LoginDataType = {\r\n  email: string\r\n  password: string\r\n  rememberMe: boolean\r\n}\r\nconst LoginF: React.FC<InjectedFormProps<LoginDataType>> = ({ handleSubmit, error }) => {\r\n\r\n  return (\r\n    <>\r\n      <div style={{ fontSize: \"22px\" }}>\r\n        <p>Sorry but APP creation is still in progress</p>\r\n        <p>\r\n          To log in get registered&ensp;\r\n          <a\r\n            style={{ color: \"yellow\" }}\r\n            href={\"https://social-network.samuraijs.com/ \"}\r\n            target={\"_blank\"}\r\n          >\r\n            here\r\n          </a>\r\n        </p>\r\n        <p>or use common test account credentials:</p>\r\n        <p>Email: free@samuraijs.com</p>\r\n        <p>Password: free</p>\r\n      </div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <Field\r\n            placeholder=\"Email\"\r\n            validate={[required]}\r\n            component={Input}\r\n            name=\"email\"\r\n            type=\"email\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Field\r\n            placeholder=\"Password\"\r\n            validate={[required]}\r\n            component={Input}\r\n            name=\"password\"\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Field component=\"input\" type=\"checkbox\" name=\"rememberMe\" /> Remember\r\n          me\r\n        </div>\r\n        {error && <div className={classes.formError}>{error}</div>}\r\n        <div>\r\n          <button>Login</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n\r\n}\r\nconst LoginForm = reduxForm<LoginDataType>({\r\n  form: 'login'\r\n})(LoginF)\r\nexport default LoginForm","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\nimport { login } from '../../redux/actions/auth';\r\nimport { RootStateType } from '../../redux/reduxStore';\r\nimport LoginForm, { LoginDataType } from './loginForm'\r\n\r\ntype MapDispatchType = {\r\n  login: (email: string, password: string, rememberMe: boolean) => void;\r\n};\r\ntype LoginMapStateType = {\r\n  isLogged: boolean\r\n}\r\n\r\n\r\nconst Login: React.FC<LoginMapStateType & MapDispatchType> = ({login,isLogged}) => {\r\n  const onSubmitData = (formData: LoginDataType) => {\r\n    login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n\r\n  if (isLogged) {\r\n    return <Redirect to={'/profile'}/>\r\n }\r\n  return (\r\n    <>\r\n      <h2>Login</h2>\r\n      <LoginForm onSubmit={onSubmitData} />\r\n    </>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state: RootStateType): LoginMapStateType => {\r\n  return {\r\n    isLogged: state.auth.isLogged,\r\n  };\r\n  \r\n}\r\nexport default connect<LoginMapStateType, MapDispatchType, {}, RootStateType>(mapStateToProps, {login})(Login)","import React, {Component,ComponentType,Suspense} from 'react';\nimport './App.css';\nimport \"antd/dist/antd.css\";\nimport NavbarContainer from './components/Navbar/NavbarContainer';\nimport {Route, withRouter } from 'react-router-dom'\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/login';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeUserData } from \"./redux/actions/auth\";\nimport { RootStateType } from './redux/reduxStore';\nimport Preloader from './components/Preloader/preloader';\nimport { Button } from 'antd';\nconst UsersContainer = React.lazy(()=> import('./components/Users/UsersContainer'))\nconst Dialogs = React.lazy(() => import(\"./components/Dialogs/Dialogs\"));\nconst News = React.lazy(() => import('./components/News'));\nconst Music= React.lazy(() => import('./components/Music/Music'));\nconst Settings = React.lazy(() => import('./components/Settings'));\n\n\n\ntype MapDispatchType = {\n  initializeUserData: () => void;\n};\ntype MapStateType = {\n  initialized: boolean\n}\nclass App  extends Component<MapDispatchType & MapStateType> {\n  componentDidMount() {\n    this.props.initializeUserData();\n  }\n  render() {\n\n    if (!this.props.initialized) {\n      return<Preloader />\n    }\n    \n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <NavbarContainer />\n        <div className=\"content\">\n          <Route exact path=\"/\" render={() => <ProfileContainer />} />\n          <Suspense fallback={<div>Loading...</div>}>\n            <Route path=\"/dialogs\" render={() => <Dialogs />} />\n            <Route path=\"/news\" component={() => <News />} />\n            <Route path=\"/music\" component={() => <Music />} />\n            <Route path=\"/settings\" component={() => <Settings />} />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n          </Suspense>\n          <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\n          <Route path=\"/login\" component={Login} />\n        </div>\n      </div>\n    );\n  }\n};\nconst mapStateToProps = (state: RootStateType) => {\n  return {\n    initialized: state.auth.initialized\n  }\n}\nconst AppContainer = compose<ComponentType>(\n  withRouter,\n  connect<MapStateType, MapDispatchType, {}, RootStateType>(mapStateToProps, { initializeUserData })\n)(App);\n\nexport default AppContainer;\n","\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport store, { RootStateType } from \"./redux/reduxStore\";\nimport { Provider } from \"react-redux\";\nimport AppContainer from \"./App\";\nimport { HashRouter } from \"react-router-dom\";\n\nlet renderTree = (state:RootStateType) => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <HashRouter>\n        <AppContainer />\n      </HashRouter>\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n};\nrenderTree(store.getState());\nstore.subscribe(() => {\n  let state = store.getState();\n  renderTree(state);\n});","export const required = (value: string) => {\r\n  return value && value ? undefined : 'This field is required'\r\n}\r\n\r\nexport const maxLength = (max: number) => (value: string) => {\r\n  return value && value.length > max ? `Must be ${max} characters or less` : undefined\r\n}\r\n\r\n","import classes from './preloader.module.css'\r\nimport React from 'react'\r\nimport gif from './151.gif'\r\nconst Preloader = () => {\r\n  return (\r\n    <div className={classes.Preloader}>\r\n      <img src={gif} alt ='gif'/>\r\n    </div>\r\n  )\r\n}\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__ABI2P\",\"item\":\"Navbar_item__2CJqH\",\"active\":\"Navbar_active__3XgrU\"};","export const ADD_MESSAGE = 'ADD_MESSAGE';\r\nexport  const ADD_MESSAGE_VALUE = 'ADD_MESSAGE_VALUE';\r\nexport const ADD_POST = 'ADD_POST';\r\nexport const ADD_POST_VALUE = 'ADD_POST_VALUE'\r\nexport const FOLLOW = \"FOLLOW\";\r\nexport const NOFOLLOW = \"NOFOLLOW\";\r\nexport const SET__USERS = \"SET__USERS\";\r\nexport const SET__PAGE = \"SET__PAGE\";\r\nexport const SET__TOTAL = \"SET__TOTAL\";\r\nexport const SET__PAGINATION = \"SET__PAGINATION\";\r\nexport const TOGGLE__PRELOADER = \"TOGGLE__PRELOADER \";\r\nexport const SET__PROFILE = \"SET__PROFILE\"\r\nexport const SET_USER_DATA = 'SET_USER_DATA';\r\nexport const TOGGLE_FOLLOW_STATUS = 'TOGGLE_FOLLOW_STATUS'\r\nexport const SET_STATUS = 'SET_STATUS'\r\nexport const INITIALIZE_DATE = 'INITIALIZE_DATE'\r\nexport const SET_PHOTOS = 'SET_PHOTOS'","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textArreaWrapper\":\"formControls_textArreaWrapper__1odmS\",\"error\":\"formControls_error__oj7a-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__26yxl\",\"loginContentWrapper\":\"Header_loginContentWrapper__2iJtm\"};","import React, { Component, ComponentType} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { RootStateType } from '../../redux/reduxStore'\r\n\r\ntype MapStateType = {\r\n  isAuth:boolean\r\n}\r\nlet mapStateToProps = (state: RootStateType):MapStateType => {\r\n  return{\r\n    isAuth: state.auth.isLogged\r\n  }\r\n}\r\n\r\nexport function withAuthRedirect<WCP> (WrappedComponent:ComponentType) {\r\n  class RedirectComponent extends Component< MapStateType>{\r\n    render() {\r\n      let{isAuth, ...restProps} = this.props\r\n      if (!isAuth) return <Redirect to = './login' />\r\n      return <WrappedComponent {...restProps}/>\r\n    }\r\n  }\r\n  let ConnectedAuthRedirectComponent = connect<MapStateType, {}, WCP, RootStateType>(mapStateToProps)(RedirectComponent)\r\n  return ConnectedAuthRedirectComponent;\r\n}"],"sourceRoot":""}